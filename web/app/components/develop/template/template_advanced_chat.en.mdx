import { CodeGroup } from '../code.tsx'
import { Row, Col, Properties, Property, Heading, SubProperty, Paragraph } from '../md.tsx'

# 고급 채팅 앱 API

채팅 애플리케이션은 세션 지속성을 지원하여 이전 채팅 기록을 응답의 컨텍스트로 사용할 수 있습니다. 이는 챗봇, 고객 서비스 AI 등에 적용될 수 있습니다.

<div>
  ### Base URL
  <CodeGroup title="Code" targetCode={props.appDetail.api_base_url}>
    ```javascript
    ```
  </CodeGroup>

### 인증

서비스 API는 `API-Key` 인증을 사용합니다.
<i>**API 키 유출로 인한 심각한 결과를 방지하기 위해, API 키를 클라이언트 측이 아닌 서버 측에 저장할 것을 강력히 권장합니다.**</i>

모든 API 요청에서 아래와 같이 `Authorization` HTTP 헤더에 API 키를 포함하십시오:

  <CodeGroup title="Code">
    ```javascript
      Authorization: Bearer {API_KEY}

    ```
  </CodeGroup>
</div>

---

<Heading
  url='/chat-messages'
  method='POST'
  title='Send Chat Message'
  name='#Send-Chat-Message'
/>
<Row>
  <Col>
    채팅 애플리케이션에 요청을 전송합니다.

    ### Request Body

    <Properties>
      <Property name='query' type='string' key='query'>
         사용자 입력/질문 내용
      </Property>
      <Property name='inputs' type='object' key='inputs'>
        앱에서 정의한 다양한 변수값의 입력을 허용합니다.
        `inputs` 매개변수는 여러 키/값 쌍을 포함하며, 각 키는 특정 변수에 해당하고 각 값은 해당 변수의 구체적인 값입니다.
        변수가 파일 유형인 경우, 아래 `files`에 설명된 키를 가진 객체를 지정하십시오.
        기본값 `{}`
      </Property>
      <Property name='response_mode' type='string' key='response_mode'>
        응답 반환 모드로 다음을 지원합니다:
        - `streaming` 스트리밍 모드 (권장), SSE([Server-Sent Events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events))를 통해 타자기와 같은 출력을 구현합니다.
        - `blocking` 블로킹 모드, 실행이 완료된 후 결과를 반환합니다. (처리 시간이 긴 경우 요청이 중단될 수 있음)
        Cloudflare 제한으로 인해 100초 후에는 반환 없이 요청이 중단됩니다.
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 검색과 통계를 위해 최종 사용자의 신원을 정의하는데 사용됩니다.
        개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
      <Property name='conversation_id' type='string' key='conversation_id'>
        대화 ID입니다. 이전 채팅 기록을 기반으로 대화를 이어가려면 이전 메시지의 conversation_id를 전달해야 합니다.
      </Property>
      <Property name='files' type='array[object]' key='files'>
          파일 목록으로, 텍스트 이해와 질문 답변을 위한 파일 입력에 적합하며, 모델이 Vision 기능을 지원하는 경우에만 사용 가능합니다.
          - `type` (string) 지원되는 유형: 
            - `document` ('TXT', 'MD', 'MARKDOWN', 'PDF', 'HTML', 'XLSX', 'XLS', 'DOCX', 'CSV', 'EML', 'MSG', 'PPTX', 'PPT', 'XML', 'EPUB')
            - `image` ('JPG', 'JPEG', 'PNG', 'GIF', 'WEBP', 'SVG')
            - `audio` ('MP3', 'M4A', 'WAV', 'WEBM', 'AMR')
            - `video` ('MP4', 'MOV', 'MPEG', 'MPGA')
            - `custom` (기타 파일 유형)
          - `transfer_method` (string) 전송 방식, 이미지 URL의 경우 `remote_url` / 파일 업로드의 경우 `local_file`
          - `url` (string) 이미지 URL (전송 방식이 `remote_url`인 경우)
          - `upload_file_id` (string) 업로드된 파일 ID, File Upload API를 통해 미리 업로드하여 얻어야 함 (전송 방식이 `local_file`인 경우)
      </Property>
      <Property name='auto_generate_name' type='bool' key='auto_generate_name'>
        제목 자동 생성, 기본값은 `true`입니다.
        `false`로 설정하면, conversation rename API를 호출하고 `auto_generate`를 `true`로 설정하여 비동기 제목 생성을 구현할 수 있습니다.
      </Property>
    </Properties>

    ### Response
      response_mode가 blocking일 때는 CompletionResponse 객체를 반환합니다.
      response_mode가 streaming일 때는 ChunkCompletionResponse 스트림을 반환합니다.

    ### ChatCompletionResponse
      앱의 전체 결과를 반환합니다. `Content-Type`은 `application/json`입니다.
      - `message_id` (string) 고유한 메시지 ID
      - `conversation_id` (string) 대화 ID
      - `mode` (string) 앱 모드, `chat`으로 고정됨
      - `answer` (string) 전체 응답 내용
      - `metadata` (object) 메타데이터
        - `usage` (Usage) 모델 사용 정보
        - `retriever_resources` (array[RetrieverResource]) 인용 및 출처 목록
      - `created_at` (int) 메시지 생성 타임스탬프, 예: 1705395332

    ### ChunkChatCompletionResponse
      앱에서 출력되는 스트림 청크를 반환합니다. `Content-Type`은 `text/event-stream`입니다.
      각 스트리밍 청크는 `data:`로 시작하며, 두 개의 개행 문자 `\n\n`로 구분됩니다. 아래 예시와 같습니다:
    <CodeGroup>
    ```streaming {{ title: 'Response' }}
    data: {"event": "message", "task_id": "900bbd43-dc0b-4383-a372-aa6e6c414227", "id": "663c5084-a254-4040-8ad3-51f2a3c1a77c", "answer": "Hi", "created_at": 1705398420}\n\n
    ```
    </CodeGroup>
    스트리밍 청크의 구조는 `event` 유형에 따라 다릅니다:
    - `event: message` LLM이 텍스트 청크 이벤트를 반환합니다. 즉, 전체 텍스트가 청크 형태로 출력됩니다.
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `conversation_id` (string) 대화 ID
      - `answer` (string) LLM이 반환한 텍스트 청크 내용
      - `created_at` (int) 생성 타임스탬프, 예: 1705395332
    - `event: message_file` 메시지 파일 이벤트, 도구에 의해 새 파일이 생성됨
      - `id` (string) 파일 고유 ID
      - `type` (string) 파일 유형, 현재는 "image"만 허용
      - `belongs_to` (string) 소유자, 여기서는 'assistant'만 가능
      - `url` (string) 파일의 원격 URL
      - `conversation_id` (string) 대화 ID
    - `event: message_end` 메시지 종료 이벤트, 이 이벤트를 수신하면 스트리밍이 종료됨을 의미
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `conversation_id` (string) 대화 ID
      - `metadata` (object) 메타데이터
        - `usage` (Usage) 모델 사용 정보
        - `retriever_resources` (array[RetrieverResource]) 인용 및 출처 목록
    - `event: tts_message` TTS 오디오 스트림 이벤트, 즉 음성 합성 출력입니다. 내용은 Mp3 형식의 오디오 블록으로, base64 문자열로 인코딩됩니다. 재생 시에는 base64를 디코딩하여 플레이어에 입력하면 됩니다. (이 메시지는 자동 재생이 활성화된 경우에만 사용 가능)
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 응답 중단 인터페이스에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `audio` (string) 음성 합성 후의 오디오, base64 텍스트 내용으로 인코딩됨, 재생 시 base64를 디코딩하여 플레이어에 입력
      - `created_at` (int) 생성 타임스탬프, 예: 1705395332
    - `event: tts_message_end` TTS 오디오 스트림 종료 이벤트, 이 이벤트를 수신하면 오디오 스트림이 종료됨을 의미
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 응답 중단 인터페이스에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `audio` (string) 종료 이벤트에는 오디오가 없으므로 빈 문자열
      - `created_at` (int) 생성 타임스탬프, 예: 1705395332
    - `event: message_replace` 메시지 내용 교체 이벤트
      출력 내용 검토가 활성화되어 있을 때, 내용이 플래그되면 이 이벤트를 통해 메시지 내용이 미리 설정된 답변으로 교체됩니다.
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `conversation_id` (string) 대화 ID
      - `answer` (string) 교체 내용 (모든 LLM 답변 텍스트를 직접 교체)
      - `created_at` (int) 생성 타임스탬프, 예: 1705395332
    - `event: workflow_started` 워크플로우 실행 시작
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `workflow_run_id` (string) 워크플로우 실행의 고유 ID
      - `event` (string) `workflow_started`로 고정됨
      - `data` (object) 상세 정보
        - `id` (string) 워크플로우 실행의 고유 ID
        - `workflow_id` (string) 관련 워크플로우의 ID
        - `sequence_number` (int) 자동 증가 일련번호, 앱에서 1부터 시작하여 자동 증가
        - `created_at` (timestamp) 생성 타임스탬프, 예: 1705395332
    - `event: node_started` 노드 실행 시작
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `workflow_run_id` (string) 워크플로우 실행의 고유 ID
      - `event` (string) `node_started`로 고정됨
      - `data` (object) 상세 정보
        - `id` (string) 워크플로우 실행의 고유 ID
        - `node_id` (string) 노드 ID
        - `node_type` (string) 노드 유형
        - `title` (string) 노드 이름
        - `index` (int) 실행 순서 번호, 추적 노드 순서 표시에 사용
        - `predecessor_node_id` (string) 선택적 접두사 노드 ID, 캔버스 실행 경로 표시에 사용
        - `inputs` (object) 노드에서 사용된 모든 이전 노드 변수의 내용
        - `created_at` (timestamp) 시작 타임스탬프, 예: 1705395332
    - `event: node_finished` 노드 실행 종료, 동일한 이벤트에서 성공 또는 실패의 다른 상태
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `workflow_run_id` (string) 워크플로우 실행의 고유 ID
      - `event` (string) `node_finished`로 고정됨
      - `data` (object) 상세 정보
        - `id` (string) 워크플로우 실행의 고유 ID
        - `node_id` (string) 노드 ID
        - `node_type` (string) 노드 유형
        - `title` (string) 노드 이름
        - `index` (int) 실행 순서 번호, 추적 노드 순서 표시에 사용
        - `predecessor_node_id` (string) 선택적 접두사 노드 ID, 캔버스 실행 경로 표시에 사용
        - `inputs` (object) 노드에서 사용된 모든 이전 노드 변수의 내용
        - `process_data` (json) 선택적 노드 처리 데이터
        - `outputs` (json) 선택적 출력 내용
        - `status` (string) 실행 상태, `running` / `succeeded` / `failed` / `stopped`
        - `error` (string) 선택적 오류 이유
        - `elapsed_time` (float) 선택적 총 사용 시간
        - `execution_metadata` (json) 메타 데이터
          - `total_tokens` (int) 선택적 사용된 토큰
          - `total_price` (decimal) 선택적 총 비용
          - `currency` (string) 선택적 예: `USD` / `RMB`
        - `created_at` (timestamp) 시작 타임스탬프, 예: 1705395332
    - `event: workflow_finished` 워크플로우 실행 종료, 동일한 이벤트에서 성공 또는 실패의 다른 상태
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `workflow_run_id` (string) 워크플로우 실행의 고유 ID
      - `event` (string) `workflow_finished`로 고정됨
      - `data` (object) 상세 정보
        - `id` (string) 워크플로우 실행 ID
        - `workflow_id` (string) 관련 워크플로우 ID
        - `status` (string) 실행 상태, `running` / `succeeded` / `failed` / `stopped`
        - `outputs` (json) 선택적 출력 내용
        - `error` (string) 선택적 오류 이유
        - `elapsed_time` (float) 선택적 총 사용 시간
        - `total_tokens` (int) 선택적 사용된 토큰
        - `total_steps` (int) 기본값 0
        - `created_at` (timestamp) 시작 시간
        - `finished_at` (timestamp) 종료 시간
    - `event: error`
      스트리밍 과정에서 발생하는 예외는 스트림 이벤트 형태로 출력되며, 오류 이벤트를 수신하면 스트림이 종료됩니다.
      - `task_id` (string) 작업 ID, 요청 추적과 아래의 생성 중단 API에 사용됨
      - `message_id` (string) 고유한 메시지 ID
      - `status` (int) HTTP 상태 코드
      - `code` (string) 오류 코드
      - `message` (string) 오류 메시지
    - `event: ping` 연결을 유지하기 위해 10초마다 발생하는 핑 이벤트

   ### Errors
    - 404, 대화가 존재하지 않음
    - 400, `invalid_param`, 비정상적인 매개변수 입력
    - 400, `app_unavailable`, 앱 구성을 사용할 수 없음
    - 400, `provider_not_initialize`, 사용 가능한 모델 자격 증명 구성 없음
    - 400, `provider_quota_exceeded`, 모델 호출 할당량 부족
    - 400, `model_currently_not_support`, 현재 모델을 사용할 수 없음
    - 400, `completion_request_error`, 텍스트 생성 실패
    - 500, 내부 서버 오류

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/chat-messages" targetCode={`curl -X POST '${props.appDetail.api_base_url}/chat-messages' \\\n--header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    "inputs": ${JSON.stringify(props.inputs)},\n    "query": "What are the specs of the iPhone 13 Pro Max?",\n    "response_mode": "streaming",\n    "conversation_id": "",\n    "user": "abc-123",\n    "files": [\n      {\n        "type": "image",\n        "transfer_method": "remote_url",\n        "url": "https://cloud.dify.ai/logo/logo-site.png"\n      }\n    ]\n}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/chat-messages' \
    --header 'Authorization: Bearer {api_key}' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "inputs": {},
        "query": "eh",
        "response_mode": "streaming",
        "conversation_id": "1c7e55fb-1ba2-4e10-81b5-30addcea2276",
        "user": "abc-123"
    }'
    ```
    </CodeGroup>
    ### Blocking Mode
    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
        "event": "message",
        "message_id": "9da23599-e713-473b-982c-4328d4f5c78a",
        "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2",
        "mode": "chat",
        "answer": "iPhone 13 Pro Max specs are listed here:...",
        "metadata": {
            "usage": {
                "prompt_tokens": 1033,
                "prompt_unit_price": "0.001",
                "prompt_price_unit": "0.001",
                "prompt_price": "0.0010330",
                "completion_tokens": 128,
                "completion_unit_price": "0.002",
                "completion_price_unit": "0.001",
                "completion_price": "0.0002560",
                "total_tokens": 1161,
                "total_price": "0.0012890",
                "currency": "USD",
                "latency": 0.7682376249867957
            },
            "retriever_resources": [
                {
                    "position": 1,
                    "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb",
                    "dataset_name": "iPhone",
                    "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00",
                    "document_name": "iPhone List",
                    "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a",
                    "score": 0.98457545,
                    "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""
                }
            ]
        },
        "created_at": 1705407629
    }
    ```
    </CodeGroup>
    ### Streaming Mode
    <CodeGroup title="Response">
    ```streaming {{ title: 'Response' }}
      data: {"event": "workflow_started", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "workflow_id": "dfjasklfjdslag", "sequence_number": 1, "created_at": 1679586595}}
      data: {"event": "node_started", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "node_id": "dfjasklfjdslag", "node_type": "start", "title": "Start", "index": 0, "predecessor_node_id": "fdljewklfklgejlglsd", "inputs": {}, "created_at": 1679586595}}
      data: {"event": "node_finished", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "node_id": "dfjasklfjdslag", "node_type": "start", "title": "Start", "index": 0, "predecessor_node_id": "fdljewklfklgejlglsd", "inputs": {}, "outputs": {}, "status": "succeeded", "elapsed_time": 0.324, "execution_metadata": {"total_tokens": 63127864, "total_price": 2.378, "currency": "USD"},  "created_at": 1679586595}}
      data: {"event": "workflow_finished", "task_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "workflow_run_id": "5ad498-f0c7-4085-b384-88cbe6290", "data": {"id": "5ad498-f0c7-4085-b384-88cbe6290", "workflow_id": "dfjasklfjdslag", "outputs": {}, "status": "succeeded", "elapsed_time": 0.324, "total_tokens": 63127864, "total_steps": "1", "created_at": 1679586595, "finished_at": 1679976595}}
      data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " I", "created_at": 1679586595}
      data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": "'m", "created_at": 1679586595}
      data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " glad", "created_at": 1679586595}
      data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " to", "created_at": 1679586595}
      data: {"event": "message", "message_id": : "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " meet", "created_at": 1679586595}
      data: {"event": "message", "message_id": : "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " you", "created_at": 1679586595}
      data: {"event": "message_end", "id": "5e52ce04-874b-4d27-9045-b3bc80def685", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "metadata": {"usage": {"prompt_tokens": 1033, "prompt_unit_price": "0.001", "prompt_price_unit": "0.001", "prompt_price": "0.0010330", "completion_tokens": 135, "completion_unit_price": "0.002", "completion_price_unit": "0.001", "completion_price": "0.0002700", "total_tokens": 1168, "total_price": "0.0013030", "currency": "USD", "latency": 1.381760165997548}, "retriever_resources": [{"position": 1, "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb", "dataset_name": "iPhone", "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00", "document_name": "iPhone List", "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a", "score": 0.98457545, "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""}]}}
      data: {"event": "tts_message", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}
      data: {"event": "tts_message_end", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": ""}
    ```
    </CodeGroup>

  </Col>
</Row>

---
<Heading
  url='/files/upload'
  method='POST'
  title='File Upload'
  name='#file-upload'
/>
<Row>
  <Col>
  메시지 전송 시 사용할 파일을 업로드하며, 이미지와 텍스트의 멀티모달 이해를 가능하게 합니다.
  애플리케이션이 지원하는 모든 형식을 지원합니다.
  업로드된 파일은 현재 최종 사용자만 사용할 수 있습니다.

  ### Request Body
  이 인터페이스는 `multipart/form-data` 요청이 필요합니다.
  - `file` (File) 필수
    업로드할 파일입니다.
  - `user` (string) 필수
    사용자 식별자로, 개발자의 규칙에 따라 정의되며 애플리케이션 내에서 고유해야 합니다.

  ### Response
  업로드가 성공하면, 서버는 파일의 ID와 관련 정보를 반환합니다.
  - `id` (uuid) ID
  - `name` (string) 파일 이름
  - `size` (int) 파일 크기 (바이트)
  - `extension` (string) 파일 확장자
  - `mime_type` (string) 파일 mime-type
  - `created_by` (uuid) 최종 사용자 ID
  - `created_at` (timestamp) 생성 타임스탬프, 예: 1705395332

  ### Errors
  - 400, `no_file_uploaded`, 파일을 제공해야 합니다
  - 400, `too_many_files`, 현재는 하나의 파일만 허용됩니다
  - 400, `unsupported_preview`, 파일이 미리보기를 지원하지 않습니다
  - 400, `unsupported_estimate`, 파일이 추정을 지원하지 않습니다
  - 413, `file_too_large`, 파일이 너무 큽니다
  - 415, `unsupported_file_type`, 지원되지 않는 확장자, 현재는 문서 파일만 허용됩니다
  - 503, `s3_connection_failed`, S3 서비스에 연결할 수 없습니다
  - 503, `s3_permission_denied`, S3에 파일을 업로드할 권한이 없습니다
  - 503, `s3_file_too_large`, 파일이 S3 크기 제한을 초과합니다
  - 500, 내부 서버 오류


  </Col>
  <Col sticky>
  ### Request Example
  <CodeGroup title="Request" tag="POST" label="/files/upload" targetCode={`curl -X POST '${props.appDetail.api_base_url}/files/upload' \\\n--header 'Authorization: Bearer {api_key}' \\\n--form 'file=@localfile;type=image/[png|jpeg|jpg|webp|gif] \\\n--form 'user=abc-123'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/files/upload' \
    --header 'Authorization: Bearer {api_key}' \
    --form 'file=@"/path/to/file"'
    ```

    </CodeGroup>


  ### Response Example
  <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "id": "72fa9618-8f89-4a37-9b33-7e1178a24a67",
      "name": "example.png",
      "size": 1024,
      "extension": "png",
      "mime_type": "image/png",
      "created_by": "6ad1ab0a-73ff-4ac1-b9e4-cdb312f71f13",
      "created_at": 1577836800,
    }
  ```
  </CodeGroup>
  </Col>
</Row>
---

<Heading
  url='/chat-messages/:task_id/stop'
  method='POST'
  title='Stop Generate'
  name='#stop-generatebacks'
/>
<Row>
  <Col>
  스트리밍 모드에서만 지원됩니다.
  ### Path
   - `task_id` (string) Task ID, 스트리밍 청크 반환에서 얻을 수 있습니다
   ### Request Body
  - `user` (string) Required
    사용자 식별자, 최종 사용자의 신원을 정의하는 데 사용되며, 메시지 전송 인터페이스에 전달된 사용자와 일치해야 합니다.
  ### Response
  - `result` (string) Always returns "success"
  </Col>
  <Col sticky>
  ### Request Example
  <CodeGroup title="Request" tag="POST" label="/chat-messages/:task_id/stop" targetCode={`curl -X POST '${props.appDetail.api_base_url}/chat-messages/:task_id/stop' \\\n-H 'Authorization: Bearer {api_key}' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{"user": "abc-123"}'`}>
    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/chat-messages/:task_id/stop' \
    -H 'Authorization: Bearer {api_key}' \
    -H 'Content-Type: application/json' \
    --data-raw '{
        "user": "abc-123"
    }'
    ```
    </CodeGroup>

    ### Response Example
    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "result": "success"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/messages/:message_id/feedbacks'
  method='POST'
  title='Message Feedback'
  name='#feedbacks'
/>
<Row>
  <Col>
    최종 사용자가 피드백 메시지를 제공할 수 있어, 애플리케이션 개발자가 예상 출력을 최적화하는 데 도움이 됩니다.

    ### Path
    <Properties>
      <Property name='message_id' type='string' key='message_id'>
       Message ID
      </Property>
    </Properties>

    ### Request Body

    <Properties>
      <Property name='rating' type='string' key='rating'>
        좋아요는 `like`, 싫어요는 `dislike`, 좋아요 취소는 `null`
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 개발자의 규칙에 따라 정의되며 애플리케이션 내에서 고유해야 합니다.
      </Property>
      <Property name='content' type='string' key='content'>
        메시지 피드백의 구체적인 내용입니다.
      </Property>
    </Properties>

    ### Response
    - `result` (string) Always returns "success"
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/messages/:message_id/feedbacks" targetCode={`curl -X POST '${props.appDetail.api_base_url}/messages/:message_id/feedbacks \\\n --header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    "rating": "like",\n    "user": "abc-123",\n    "content": "message feedback information"\n}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/messages/:message_id/feedbacks' \
    --header 'Authorization: Bearer {api_key}' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "rating": "like",
        "user": "abc-123",
        "content": "message feedback information"
    }'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "result": "success"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/messages/{message_id}/suggested'
  method='GET'
  title='Next Suggested Questions'
  name='#suggested'
/>
<Row>
  <Col>
    Get next questions suggestions for the current message

    ### Path Params

    <Properties>
      <Property name='message_id' type='string' key='message_id'>
        Message ID
      </Property>
    </Properties>

    ### Query
    <Properties>
      <Property name='user' type='string' key='user'>
        사용자 식별자, 최종 사용자의 신원을 정의하는 데 사용되며 조회와 통계에 활용됩니다.
        개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/messages/{message_id}/suggested" targetCode={`curl --location --request GET '${props.appDetail.api_base_url}/messages/{message_id}/suggested?user=abc-123& \\\n--header 'Authorization: Bearer ENTER-YOUR-SECRET-KEY' \\\n--header 'Content-Type: application/json'`}>

    ```bash {{ title: 'cURL' }}
    curl --location --request GET '${props.appDetail.api_base_url}/messages/{message_id}/suggested?user=abc-123' \
    --header 'Authorization: Bearer ENTER-YOUR-SECRET-KEY' \
    --header 'Content-Type: application/json' \
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "result": "success",
      "data": [
            "a",
            "b",
            "c"
        ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/messages'
  method='GET'
  title='Get Conversation History Messages'
  name='#messages'
/>
<Row>
  <Col>
    스크롤 로드 형식으로 대화 기록을 반환하며, 첫 페이지는 최신 `{limit}` 개의 메시지를 반환합니다(즉, 역순으로 반환).

    ### Query

    <Properties>
      <Property name='conversation_id' type='string' key='conversation_id'>
        Conversation ID
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자, 최종 사용자의 신원을 정의하는 데 사용되며 조회와 통계에 활용됩니다.
        개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
      <Property name='first_id' type='string' key='first_id'>
          현재 페이지의 첫 번째 채팅 기록 ID, 기본값은 null입니다.
      </Property>
      <Property name='limit' type='int' key='limit'>
          한 번의 요청에서 반환할 대화 기록 메시지의 수, 기본값은 20입니다.
      </Property>
    </Properties>

    ### Response
    - `data` (array[object]) 메시지 목록
    - `id` (string) 메시지 ID
    - `conversation_id` (string) 대화 ID
    - `inputs` (object) 사용자 입력 매개변수
    - `query` (string) 사용자 입력/질문 내용
    - `message_files` (array[object]) 메시지 파일들
      - `id` (string) ID
      - `type` (string) 파일 유형, 이미지의 경우 image
      - `url` (string) 미리보기 이미지 URL
      - `belongs_to` (string) 소유자, user 또는 assistant
    - `answer` (string) 응답 메시지 내용
    - `created_at` (timestamp) 생성 타임스탬프, 예: 1705395332
    - `feedback` (object) 피드백 정보
      - `rating` (string) 좋아요는 `like` / 싫어요는 `dislike`
    - `retriever_resources` (array[RetrieverResource]) 인용 및 출처 목록
  - `has_more` (bool) 다음 페이지 존재 여부
  - `limit` (int) 반환된 항목 수, 입력이 시스템 제한을 초과하면 시스템 제한 수량을 반환

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/messages" targetCode={`curl -X GET '${props.appDetail.api_base_url}/messages?user=abc-123&conversation_id='\\\n --header 'Authorization: Bearer {api_key}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/messages?user=abc-123&conversation_id='
    --header 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>
    ### Response Example
    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "limit": 20,
      "has_more": false,
      "data": [
        {
            "id": "a076a87f-31e5-48dc-b452-0061adbbc922",
            "conversation_id": "cd78daf6-f9e4-4463-9ff2-54257230a0ce",
            "inputs": {
                "name": "dify"
            },
            "query": "아이폰 16 프로",
            "answer": "아이폰 16 프로는 2021년 9월 24일에 출시되었으며, 1170 x 2532 해상도의 6.1인치 디스플레이를 탑재하고 있습니다. 헥사 코어(2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard) 프로세서와 6GB RAM을 장착했으며, 128GB, 256GB, 512GB, 1TB의 저장 용량 옵션을 제공합니다. 카메라는 12MP이고, 배터리 용량은 3095mAh이며, iOS 15를 탑재하고 있습니다.",
            "message_files": [],
            "message_files": [],
            "feedback": null,
            "retriever_resources": [
                {
                    "position": 1,
                    "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb",
                    "dataset_name": "iPhone",
                    "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00",
                    "document_name": "iPhone List",
                    "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a",
                    "score": 0.98457545,
                    "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""
                }
            ],
            "created_at": 1705569239,
        }
      ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/conversations'
  method='GET'
  title='Get Conversations'
  name='#conversations'
/>
<Row>
  <Col>
    현재 사용자의 대화 목록을 조회하며, 기본값으로 최근 20개의 항목을 반환합니다.

    ### Query

    <Properties>
      <Property name='user' type='string' key='user'>
          사용자 식별자로, 조회와 통계를 위해 최종 사용자의 신원을 정의하는데 사용됩니다.
          개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
      <Property name='last_id' type='string' key='last_id'>
          (선택사항) 현재 페이지의 마지막 기록 ID, 기본값은 null입니다.
      </Property>
      <Property name='limit' type='int' key='limit'>
          (선택사항) 한 번의 요청에서 반환할 기록의 수입니다. 기본값은 최근 20개 항목입니다. 최대 100개, 최소 1개입니다.
      </Property>
      <Property name='sort_by' type='string' key='sort_by'>
       (선택사항) 정렬 필드, 기본값: -updated_at (업데이트 시간 기준 내림차순 정렬)
        - 사용 가능한 값: created_at, -created_at, updated_at, -updated_at
        - 필드 앞의 기호는 정렬 순서를 나타내며, "-"는 역순을 의미합니다.
       </Property>
    </Properties>

    ### Response
    - `data` (array[object]) 대화 목록
      - `id` (string) 대화 ID
      - `name` (string) 대화 이름, 기본적으로 LLM에 의해 생성됩니다.
      - `inputs` (object) 사용자 입력 매개변수
      - `status` (string) 대화 상태
      - `introduction` (string) 소개
      - `created_at` (timestamp) 생성 타임스탬프, 예: 1705395332
      - `updated_at` (timestamp) 업데이트 타임스탬프, 예: 1705395332
    - `has_more` (bool) 다음 페이지 존재 여부
    - `limit` (int) 반환된 항목 수, 입력이 시스템 제한을 초과하면 시스템 제한 수량을 반환

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/conversations" targetCode={`curl -X GET '${props.appDetail.api_base_url}/conversations?user=abc-123&last_id=&limit=20' \\\n --header 'Authorization: Bearer {api_key}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/conversations?user=abc-123&last_id=&limit=20' \
    --header 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "limit": 20,
      "has_more": false,
      "data": [
        {
          "id": "10799fb8-64f7-4296-bbf7-b42bfbe0ae54",
          "name": "New chat",
          "inputs": {
              "book": "book",
              "myName": "Lucy"
          },
          "status": "normal",
          "created_at": 1679667915,
          "updated_at": 1679667915
        },
        {
          "id": "hSIhXBhNe8X1d8Et"
          // ...
        }
      ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/conversations/:conversation_id'
  method='DELETE'
  title='Delete Conversation'
  name='#delete'
/>
<Row>
  <Col>
   대화를 삭제합니다.

    ### Path
    - `conversation_id` (string) Conversation ID

    ### Request Body

    <Properties>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
    </Properties>

    ### Response
    - `result` (string) Always returns "success"
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/conversations/:conversation_id" targetCode={`curl -X DELETE '${props.appDetail.api_base_url}/conversations/:conversation_id' \\\n--header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{ \n "user": "abc-123"\n}'`}>

    ```bash {{ title: 'cURL' }}
        curl -X DELETE '${props.appDetail.api_base_url}/conversations/{conversation_id}' \
        --header 'Content-Type: application/json' \
        --header 'Accept: application/json' \
        --header 'Authorization: Bearer {api_key}' \
        --data '{
            "user": "abc-123"
        }'
      ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "result": "success"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---
<Heading
  url='/conversations/:conversation_id/name'
  method='POST'
  title='Conversation Rename'
  name='#rename'
/>
<Row>
  <Col>
    ### Request Body
    세션의 이름을 변경합니다. 세션 이름은 다중 세션을 지원하는 클라이언트에서 표시용으로 사용됩니다.

    ### Path
    - `conversation_id` (string) Conversation ID

    <Properties>
      <Property name='name' type='string' key='name'>
        (선택사항) 대화의 이름입니다. `auto_generate`가 `true`로 설정된 경우 이 매개변수는 생략할 수 있습니다.
      </Property>
      <Property name='auto_generate' type='bool' key='auto_generate'>
        (선택사항) 제목 자동 생성, 기본값은 `false`입니다
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
    </Properties>

    ### Response
    - `id` (string) 대화 ID
    - `name` (string) 대화 이름
    - `inputs` (object) 사용자 입력 매개변수
    - `status` (string) 대화 상태
    - `introduction` (string) 소개
    - `created_at` (timestamp) 생성 타임스탬프, 예: 1705395332
    - `updated_at` (timestamp) 업데이트 타임스탬프, 예: 1705395332
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/conversations/:conversation_id/name" targetCode={`curl -X POST '${props.appDetail.api_base_url}/conversations/:conversation_id/name' \\\n--header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{ \n "name": "", \n "auto_generate": true, \n "user": "abc-123"\n}'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/conversations/{conversation_id}/name' \
    --header 'Content-Type: application/json' \
    --header 'Authorization: Bearer {api_key}' \
    --data-raw '{
        "name": "",
        "auto_generate": true,
        "user": "abc-123"
    }'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
        "id": "cd78daf6-f9e4-4463-9ff2-54257230a0ce",
        "name": "Chat vs AI",
        "inputs": {},
        "status": "normal",
        "introduction": "",
        "created_at": 1705569238,
        "updated_at": 1705569238
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/audio-to-text'
  method='POST'
  title='Speech to Text'
  name='#audio'
/>
<Row>
  <Col>
    이 인터페이스는 `multipart/form-data` 요청이 필요합니다.

    ### Request Body

    <Properties>
      <Property name='file' type='file' key='file'>
        오디오 파일.
        지원되는 형식: `['mp3', 'mp4', 'mpeg', 'mpga', 'm4a', 'wav', 'webm']`
        파일 크기 제한: 15MB
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 개발자가 애플리케이션 내에서 고유하게 정의해야 합니다.
      </Property>
    </Properties>


    ### Response
    - `text` (string) Output text

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/audio-to-text" targetCode={`curl -X POST '${props.appDetail.api_base_url}/audio-to-text' \\\n--header 'Authorization: Bearer {api_key}' \\\n--form 'file=@localfile;type=audio/[mp3|mp4|mpeg|mpga|m4a|wav|webm]'`}>

    ```bash {{ title: 'cURL' }}
    curl -X POST '${props.appDetail.api_base_url}/conversations/name' \
    --header 'Authorization: Bearer {api_key}' \
    --form 'file=@localfile;type=audio/mp3'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ text: 'hello' }}
    {
      "text": ""
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/text-to-audio'
  method='POST'
  title='Text to Audio'
  name='#audio'
/>
<Row>
  <Col>
    Text to speech.

    ### Request Body

    <Properties>
      <Property name='message_id' type='str' key='text'>
        Dify에서 생성된 텍스트 메시지의 경우, 생성된 message-id를 직접 전달하면 됩니다. 백엔드는 message-id를 사용하여 해당 내용을 조회하고 음성 정보를 직접 합성합니다. message_id와 text가 동시에 제공되는 경우, message_id가 우선순위를 가집니다.
      </Property>
      <Property name='text' type='str' key='text'>
        음성 생성할 내용입니다.
      </Property>
      <Property name='user' type='string' key='user'>
        사용자 식별자로, 개발자가 앱 내에서 고유하게 정의해야 합니다.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/text-to-audio" targetCode={`curl -o text-to-audio.mp3 -X POST '${props.appDetail.api_base_url}/text-to-audio' \\\n--header 'Authorization: Bearer {api_key}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290",\n    "text": "Hello Dify",\n    "user": "abc-123"\n}'`}>

    ```bash {{ title: 'cURL' }}
    curl -o text-to-audio.mp3 -X POST '${props.appDetail.api_base_url}/text-to-audio' \
    --header 'Authorization: Bearer {api_key}' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290",
        "text": "Hello Dify",
        "user": "abc-123",
        "streaming": false
    }'
    ```
    </CodeGroup>

    <CodeGroup title="headers">
    ```json {{ title: 'headers' }}
    {
      "Content-Type": "audio/wav"
    }
    ```
    </CodeGroup>
  </Col>
</Row>
---

<Heading
  url='/info'
  method='GET'
  title='Get Application Basic Information'
  name='#info'
/>
<Row>
  <Col>
  이 애플리케이션의 기본 정보를 얻는데 사용됩니다

  ### Response
  - `name` (string) application name
  - `description` (string) application description
  - `tags` (array[string]) application tags
  </Col>
  <Col>
    <CodeGroup title="Request" tag="GET" label="/info" targetCode={`curl -X GET '${props.appDetail.api_base_url}/info' \\\n-H 'Authorization: Bearer {api_key}'`}>
      ```bash {{ title: 'cURL' }}
      curl -X GET '${props.appDetail.api_base_url}/info' \
      -H 'Authorization: Bearer {api_key}'
      ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "name": "My App",
      "description": "This is my app.",
      "tags": [
        "tag1",
        "tag2"
      ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

<Heading
  url='/parameters'
  method='GET'
  title='Get Application Parameters Information'
  name='#parameters'
/>
<Row>
  <Col>
    페이지 진입 시 기능, 입력 매개변수 이름, 유형 및 기본값과 같은 정보를 얻는데 사용됩니다.

    ### Response
    - `opening_statement` (string) 시작 멘트
    - `suggested_questions` (array[string]) 시작 시 추천 질문 목록
    - `suggested_questions_after_answer` (object) 답변 후 질문 추천 설정
      - `enabled` (bool) 활성화 여부
    - `speech_to_text` (object) 음성-텍스트 변환 설정
      - `enabled` (bool) 활성화 여부  
    - `retriever_resource` (object) 인용 및 출처 설정
      - `enabled` (bool) 활성화 여부
    - `annotation_reply` (object) 주석 답변 설정
      - `enabled` (bool) 활성화 여부
    - `user_input_form` (array[object]) 사용자 입력 폼 설정
      - `text-input` (object) 텍스트 입력 컨트롤
        - `label` (string) 변수 표시 레이블명
        - `variable` (string) 변수 ID
        - `required` (bool) 필수 여부
        - `default` (string) 기본값
      - `paragraph` (object) 문단 텍스트 입력 컨트롤
        - `label` (string) 변수 표시 레이블명
        - `variable` (string) 변수 ID
        - `required` (bool) 필수 여부
        - `default` (string) 기본값
      - `select` (object) 드롭다운 컨트롤
        - `label` (string) 변수 표시 레이블명
        - `variable` (string) 변수 ID
        - `required` (bool) 필수 여부
        - `default` (string) 기본값
        - `options` (array[string]) 옵션 값 목록
    - `file_upload` (object) 파일 업로드 설정
      - `image` (object) 이미지 설정
        현재 지원되는 이미지 형식: `png`, `jpg`, `jpeg`, `webp`, `gif`
        - `enabled` (bool) 활성화 여부
        - `number_limits` (int) 이미지 개수 제한, 기본값 3
        - `transfer_methods` (array[string]) 전송 방식 목록, remote_url, local_file 중 하나 선택 필수
    - `system_parameters` (object) 시스템 파라미터
      - `file_size_limit` (int) 문서 업로드 크기 제한 (MB)
      - `image_file_size_limit` (int) 이미지 파일 업로드 크기 제한 (MB) 
      - `audio_file_size_limit` (int) 오디오 파일 업로드 크기 제한 (MB)
      - `video_file_size_limit` (int) 비디오 파일 업로드 크기 제한 (MB)
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/parameters" targetCode={` curl -X GET '${props.appDetail.api_base_url}/parameters'`}>

    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/parameters' \
    --header 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "opening_statement": "Hello!",
      "suggested_questions_after_answer": {
          "enabled": true
      },
      "speech_to_text": {
          "enabled": true
      },
      "retriever_resource": {
          "enabled": true
      },
      "annotation_reply": {
          "enabled": true
      },
      "user_input_form": [
          {
              "paragraph": {
                  "label": "Query",
                  "variable": "query",
                  "required": true,
                  "default": ""
              }
          }
      ],
      "file_upload": {
          "image": {
              "enabled": false,
              "number_limits": 3,
              "detail": "high",
              "transfer_methods": [
                  "remote_url",
                  "local_file"
              ]
          }
      },
      "system_parameters": {
          "file_size_limit": 15,
          "image_file_size_limit": 10,
          "audio_file_size_limit": 50,
          "video_file_size_limit": 100
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
---

<Heading
  url='/meta'
  method='GET'
  title='Get Application Meta Information'
  name='#meta'
/>
<Row>
  <Col>
  Used to get icons of tools in this application

  ### Response
  - `tool_icons`(object[string]) tool icons
    - `tool_name` (string)
      - `icon` (object|string)
        - (object) icon object
          - `background` (string) background color in hex format
          - `content`(string) emoji
        - (string) url of icon
  </Col>
  <Col>
  <CodeGroup title="Request" tag="GET" label="/meta" targetCode={`curl -X GET '${props.appDetail.api_base_url}/meta' \\\n-H 'Authorization: Bearer {api_key}'`}>
    ```bash {{ title: 'cURL' }}
    curl -X GET '${props.appDetail.api_base_url}/meta' \
    -H 'Authorization: Bearer {api_key}'
    ```

    </CodeGroup>

    <CodeGroup title="Response">
    ```json {{ title: 'Response' }}
    {
      "tool_icons": {
        "dalle2": "https://cloud.dify.ai/console/api/workspaces/current/tool-provider/builtin/dalle/icon",
        "api_tool": {
          "background": "#252525",
          "content": "\ud83d\ude01"
        }
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
